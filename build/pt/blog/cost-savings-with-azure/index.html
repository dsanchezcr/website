<!doctype html>
<html lang="pt-BR" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.0">
<title data-rh="true">Economia de custos com o Azure para seus aplicativos Web | David Sanchez</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://dsanchezcr.com/pt/blog/cost-savings-with-azure"><meta data-rh="true" property="og:locale" content="pt_BR"><meta data-rh="true" property="og:locale:alternate" content="en_US"><meta data-rh="true" property="og:locale:alternate" content="es_ES"><meta data-rh="true" name="docusaurus_locale" content="pt"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="pt"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Economia de custos com o Azure para seus aplicativos Web | David Sanchez"><meta data-rh="true" name="description" content="Aprenda como otimizar o que você paga no Azure por seus Aplicativos Web com PaaS"><meta data-rh="true" property="og:description" content="Aprenda como otimizar o que você paga no Azure por seus Aplicativos Web com PaaS"><meta data-rh="true" property="og:image" content="https://raw.githubusercontent.com/dsanchezcr/website/main/static/img/CostSavings/Automation.jpg"><meta data-rh="true" name="twitter:image" content="https://raw.githubusercontent.com/dsanchezcr/website/main/static/img/CostSavings/Automation.jpg"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2023-01-04T18:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/dsanchezcr"><meta data-rh="true" property="article:tag" content="Azure,Cost Savings,Web Apps,SQL Azure"><link data-rh="true" rel="icon" href="/pt/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://dsanchezcr.com/pt/blog/cost-savings-with-azure"><link data-rh="true" rel="alternate" href="https://dsanchezcr.com/blog/cost-savings-with-azure" hreflang="en-US"><link data-rh="true" rel="alternate" href="https://dsanchezcr.com/es/blog/cost-savings-with-azure" hreflang="es-ES"><link data-rh="true" rel="alternate" href="https://dsanchezcr.com/pt/blog/cost-savings-with-azure" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://dsanchezcr.com/blog/cost-savings-with-azure" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://LWWNAESQKU-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/pt/blog/rss.xml" title="David Sanchez RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/pt/blog/atom.xml" title="David Sanchez Atom Feed">
<link rel="alternate" type="application/json" href="/pt/blog/feed.json" title="David Sanchez JSON Feed">



<link rel="search" type="application/opensearchdescription+xml" title="David Sanchez" href="/pt/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-18J431S7WG"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-18J431S7WG",{anonymize_ip:!0})</script><link rel="stylesheet" href="/pt/assets/css/styles.bcac089d.css">
<script src="/pt/assets/js/runtime~main.b666a9fa.js" defer="defer"></script>
<script src="/pt/assets/js/main.94a083e1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Pular para o conteúdo principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Pular para o conteúdo principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/pt/"><div class="navbar__logo"><img src="/pt/img/logo.svg" alt="David Sanchez - Website" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/pt/img/logo.svg" alt="David Sanchez - Website" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Início</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/pt/blog">Blog</a><a class="navbar__item navbar__link" href="/pt/projects">Projetos</a><a class="navbar__item navbar__link" href="/pt/about">Sobre</a><a class="navbar__item navbar__link" href="/pt/contact">Contato</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/pt/sponsors">Sponsors</a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Português</a><ul class="dropdown__menu"><li><a href="/blog/cost-savings-with-azure" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en-US">English</a></li><li><a href="/es/blog/cost-savings-with-azure" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es-ES">Español</a></li><li><a href="/pt/blog/cost-savings-with-azure" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="pt-BR">Português</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1" itemscope="" itemtype="https://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="https://schema.org/BlogPosting"><meta itemprop="description" content="Aprenda como otimizar o que você paga no Azure por seus Aplicativos Web com PaaS"><link itemprop="image" href="https://raw.githubusercontent.com/dsanchezcr/website/main/static/img/CostSavings/Automation.jpg"><header><h1 class="title_f1Hy" itemprop="headline">Economia de custos com o Azure para seus aplicativos Web</h1><div class="container_mt6G margin-vert--md"><time datetime="2023-01-04T18:00:00.000Z" itemprop="datePublished">4 de janeiro de 2023</time> · <!-- -->Leitura de 5 minutos</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/dsanchezcr" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo" src="https://github.com/dsanchezcr.png" alt="David Sanchez" itemprop="image"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/dsanchezcr" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">David Sanchez</span></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown" itemprop="articleBody"><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introdução">Introdução<a href="#introdução" class="hash-link" aria-label="Link direto para o título" title="Link direto para o título">​</a></h2>
<p>Muitos dos nossos aplicativos Web hospedados no Azure são criados sobre um serviço PaaS, como o Serviço de Aplicativo do Azure e o SQL Azure. Esses serviços geralmente são cobrados com base na quantidade de recursos que consomem. Quanto mais recursos eles consomem, mais pagamos. No entanto, existem algumas práticas recomendadas que podemos seguir para reduzir a quantidade de recursos consumidos e, portanto, reduzir a quantidade de dinheiro que pagamos. Especialmente se estivermos executando um aplicativo Web que não é usado 24 horas por dia, 7 dias por semana ou apenas usado durante o horário comercial no mesmo fuso horário.</p>
<p>Um dos princípios da computação em nuvem é o <strong>elasticidade</strong>, o que significa que podemos aumentar ou diminuir os recursos que nosso aplicativo consome com base na demanda ou no cronograma. Esse é um ótimo recurso da nuvem, mas devemos estar cientes das implicações de custo desse recurso. Se ampliarmos nosso aplicativo para lidar com um pico de tráfego, também devemos reduzir os recursos quando o tráfego voltar ao normal.</p>
<p>No Serviço de Aplicativo do Azure, temos duas maneiras de escalar, aumentar ou diminuir a escala e expandir para fora ou para dentro. Aumentar ou diminuir a escala significa que podemos alterar o tamanho da VM em que nosso aplicativo está sendo executado. Expandir ou aumentar significa que podemos adicionar ou remover VMs do nosso aplicativo. Podemos aumentar ou diminuir a escala e reduzir a escala para fora ou para dentro ao mesmo tempo. Por exemplo, podemos aumentar o tamanho das VMs e adicionar mais VMs ao nosso aplicativo.</p>
<p>Portanto, se tivermos um aplicativo Web de produção que não seja usado 24 horas por dia, 7 dias por semana, devemos considerar o seguinte:</p>
<ul>
<li>Reduza o aplicativo e o banco de dados para os recursos mínimos necessários fora do horário de pico.</li>
<li>Dimensione o aplicativo e o banco de dados para os recursos máximos necessários durante o horário de pico. (além disso, devemos habilitar o dimensionamento automático para expandir o aplicativo e adicionar mais instâncias quando necessário, <a href="https://learn.microsoft.com/azure/azure-monitor/autoscale/autoscale-get-started?WT.mc_id=DT-MVP-5005361&amp;toc=%2Fazure%2Fapp-service%2Ftoc.json#create-your-first-autoscale-setting" target="_blank" rel="noopener noreferrer">por meio das regras que você define para expandir horizontalmente ou para dentro</a>).</li>
</ul>
<p>O processo para aumentar e diminuir a escala pode ser desativado manualmente a partir do portal, conforme mostrado na imagem.</p>
<p><img loading="lazy" src="/img/CostSavings/AzurePortal-ScaleUp.jpg" alt="" class="img_ev3q"></p>
<p>No entanto, esse processo pode ser tedioso e propenso a erros. Podemos automatizar o processo para aumentar e diminuir a escala do Web App e do banco de dados durante a noite e os fins de semana. Isso reduzirá a quantidade de recursos consumidos e, portanto, reduzirá a quantidade de dinheiro que pagamos.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="solução">Solução<a href="#solução" class="hash-link" aria-label="Link direto para o título" title="Link direto para o título">​</a></h2>
<p>Nós podemos usar <a href="https://learn.microsoft.com/azure/automation/overview?WT.mc_id=DT-MVP-5005361" target="_blank" rel="noopener noreferrer">Automação do Azure</a> para agendar um script do PowerShell para reduzir o Aplicativo Web e o Banco de Dados durante a noite e os fins de semana. Também podemos agendar outro script do PowerShell para ampliar o Aplicativo Web e o Banco de Dados antes do horário comercial.</p>
<blockquote>
<p>Você precisará configurar uma identidade atribuída pelo sistema à conta de automação do Azure para se conectar aos recursos do Azure. Você pode seguir as etapas neste <a href="https://learn.microsoft.com/azure/automation/learn/powershell-runbook-managed-identity#assign-permissions-to-managed-identities?WT.mc_id=DT-MVP-5005361" target="_blank" rel="noopener noreferrer">artigo</a>.</p>
</blockquote>
<p>Vamos explorar os scripts do PowerShell que podemos usar:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aumentar-ou-diminuir-a-escala-do-aplicativo-web">Aumentar ou diminuir a escala do aplicativo Web<a href="#aumentar-ou-diminuir-a-escala-do-aplicativo-web" class="hash-link" aria-label="Link direto para o título" title="Link direto para o título">​</a></h3>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$resourceGroupName = &#x27;&lt;Your Resource Group&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$appServicePlanName = &#x27;&lt;Your App Service&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$tier = &#x27;&lt;Tier you would like to scale down - For example: Basic&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">try</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    filter timestamp {&quot;[$(Get-Date -Format G)]: $_&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Output &quot;Script started.&quot; | timestamp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Verbose &quot;Logging in to Azure...&quot; -Verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Connect-AzAccount -Identity</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Verbose &quot;Login sucessful. Proceding to update service plan...&quot; -Verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Set-AzAppServicePlan -ResourceGroupName $resourceGroupName -Name $appServicePlanName -tier $tier</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Verbose &quot;Service plan updated. Getting information about the update...&quot; -Verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $appPlanService = Get-AzAppServicePlan -ResourceGroupName $resourceGroupName -Name $appServicePlanName</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Output &quot;App Service Plan name: $($appPlanService.Name)&quot; | timestamp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Output &quot;Current App Service Plan status: $($appPlanService.Status), tier: $($appPlanService.Sku.Name)&quot; | timestamp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Output &quot;Script finished.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">catch {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Verbose &quot;Error... &#x27;$_.Exception&#x27;&quot; -Verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Error -Message $_.Exception</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    throw $_.Exception</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aumentar-ou-diminuir-a-escala-do-sql-azure">Aumentar ou diminuir a escala do SQL Azure<a href="#aumentar-ou-diminuir-a-escala-do-sql-azure" class="hash-link" aria-label="Link direto para o título" title="Link direto para o título">​</a></h3>
<div class="language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">$resourceGroupName = &#x27;&lt;Your Resource Group&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$SqlServerName = &#x27;&lt;Your SQL Azure Server Name&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$DatabaseName = &#x27;&lt;Your SQL Azure DB Name&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$Edition = &#x27;&lt;Tier you would like to scale down - For example: Basic&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">$PerfLevel = &#x27;&lt;Tier you would like to scale down - For example: Basic&gt;&#x27;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">try{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    filter timestamp {&quot;[$(Get-Date -Format G)]: $_&quot;}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Output &quot;Script started.&quot; | timestamp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Verbose &quot;Logging in to Azure...&quot; -Verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Connect-AzAccount -Identity  </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Verbose &quot;Login sucessful. Proceding to update SQL Server plan...&quot; -Verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Set-AzSqlDatabase -ResourceGroupName $resourceGroupName -DatabaseName $DatabaseName -ServerName $SqlServerName -Edition $Edition -RequestedServiceObjectiveName $PerfLevel </span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Verbose &quot;SQL Server plan updated. Getting information about the update...&quot; -Verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    $sqlServerPlan = Get-AzSqlDatabase -ResourceGroupName $resourceGroupName -DatabaseName $DatabaseName -ServerName $SqlServerName</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Output &quot;SQL Server Edition: $($sqlServerPlan.Edition)&quot; | timestamp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Output &quot;Current SQL Server Plan status: $($sqlServerPlan.Status)&quot; | timestamp</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Output &quot;Script finished.&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">catch{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Verbose &quot;Error... &#x27;$_.Exception&#x27;&quot; -Verbose</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    Write-Error -Message $_.Exception</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    throw $_.Exception</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código para a área de transferência" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Depois de criar os Runbooks na Automação do Azure, você pode criar as agendas e vincular os Runbooks às agendas.</p>
<p><img loading="lazy" src="/img/CostSavings/Automation.jpg" alt="" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusão">Conclusão<a href="#conclusão" class="hash-link" aria-label="Link direto para o título" title="Link direto para o título">​</a></h2>
<p>Vimos como podemos usar a Automação do Azure e o PowerShell para agendar o dimensionamento para cima ou para baixo do Aplicativo Web e do SQL Azure. Isso nos ajudará a economizar dinheiro e também a evitar o tempo de inatividade durante o horário comercial, adicionando os recursos que não usamos à noite.</p></div><footer class="row docusaurus-mt-lg blogPostFooterDetailsFull_mRVl"><div class="col"><b>Marcadores:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/azure">Azure</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/cost-savings">Cost Savings</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/web-apps">Web Apps</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/pt/blog/tags/sql-azure">SQL Azure</a></li></ul></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegação da página de postagem do blog"><a class="pagination-nav__link pagination-nav__link--prev" href="/pt/blog/list-azure-repos-with-sizes"><div class="pagination-nav__sublabel">Postagem mais nova</div><div class="pagination-nav__label">Listar repositórios com seus tamanhos no Azure Repos</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/pt/blog/adding-load-testing-to-your-workflows"><div class="pagination-nav__sublabel">Postagem mais antiga</div><div class="pagination-nav__label">Adicionando teste de carga aos fluxos de trabalho de CI/CD</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://sessionize.com/dsanchezcr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Sessionize<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://goodreads.com/dsanchezcr" target="_blank" rel="noopener noreferrer" class="footer__link-item">GoodReads<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://fb.com/dsanchezcr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://twitter.com/dsanchezcr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://youtube.com/@dsanchezcr" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://github.com/dsanchezcr" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><span class="footer__link-separator">·</span><a href="https://linkedin.com/in/dsanchezcr" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 David Sanchez. Built with Docusaurus. Running on Azure Static Web Apps. Deployed with GitHub Actions.</div></div></div></footer></div>
</body>
</html>