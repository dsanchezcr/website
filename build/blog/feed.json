{
    "version": "https://jsonfeed.org/version/1",
    "title": "David Sanchez Blog",
    "home_page_url": "https://dsanchezcr.com/blog",
    "description": "David Sanchez Blog",
    "items": [
        {
            "id": "https://dsanchezcr.com/blog/colones-exchange-rate-package",
            "content_html": "<p>In this post I am introducing a new NuGet package that I created to get the exchange rate of the Costa Rican Colón currency conversion to US Dollars and Euros.</p>",
            "url": "https://dsanchezcr.com/blog/colones-exchange-rate-package",
            "title": "Colones Exchange Rate - NuGet Package",
            "summary": "In this post I am introducing a new NuGet package that I created to get the exchange rate of the Costa Rican Colón currency conversion to US Dollars and Euros.",
            "date_modified": "2023-11-06T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "NuGet",
                ".NET Standard",
                "Colones",
                "Exchange Rate",
                "Costa Rica"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/cosmicworks-azure-cognitive-search-azure-openai",
            "content_html": "<p>In this post I show how to add Azure Cognitive Search to CosmicWorks to enable full text search and how to add Azure OpenAI to CosmicWorks to enable chat with GPT from Azure OpenAI.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"introduction\">Introduction<a href=\"https://dsanchezcr.com/blog/cosmicworks-azure-cognitive-search-azure-openai#introduction\" class=\"hash-link\" aria-label=\"Direct link to Introduction\" title=\"Direct link to Introduction\">​</a></h2>\n<p>CosmicWorks is a sample application with demo data that shows how to use Azure Cosmos DB with the .NET SDK. It is a simple application that allows you to manage sample product data.</p>\n<h2></h2>",
            "url": "https://dsanchezcr.com/blog/cosmicworks-azure-cognitive-search-azure-openai",
            "title": "Extending CosmicWorks with Azure Cognitive Search and Azure OpenAI",
            "summary": "In this post I show how to add Azure Cognitive Search to CosmicWorks to enable full text search and how to add Azure OpenAI to CosmicWorks to enable chat with GPT.",
            "date_modified": "2023-09-25T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Azure Cosmos DB",
                "Azure OpenAI",
                "Azure Cognitive Search",
                "ASP.NET",
                "GitHub Actions"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/SQL-Azure-Without-Secrets",
            "content_html": "<p>In this post I will show you how to connect to SQL Azure without using secrets, using Azure Active Directory.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"introduction\">Introduction<a href=\"https://dsanchezcr.com/blog/SQL-Azure-Without-Secrets#introduction\" class=\"hash-link\" aria-label=\"Direct link to Introduction\" title=\"Direct link to Introduction\">​</a></h2>\n<p>With GitHub Advanced Security, you can scan your code for secrets and vulnerabilities in your codebase and git history by using <a href=\"https://docs.github.com/code-security/secret-scanning/about-secret-scanning\" target=\"_blank\" rel=\"noopener noreferrer\">Secret Scanning</a> or even go one step further and use <a href=\"https://docs.github.com/enterprise-cloud@latest/code-security/secret-scanning/protecting-pushes-with-secret-scanning\" target=\"_blank\" rel=\"noopener noreferrer\">push protection</a> to avoid secrets being pushed in your repository. This is an excellent feature when we have secrets in our applications, but it is not enough when we talk about passwords in connections strings, you also need to rotate those passwords, protect them, make sure you are using the correct one for each different stage (Dev, QA, Prod, etc.). A solution to this problem is to use Managed Service Identity (MSI) instead of usernames and passwords to connect to different Azure services, including SQL Azure.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"enabling-azure-active-directory-authentication-on-sql-azure\">Enabling Azure Active Directory authentication on SQL Azure<a href=\"https://dsanchezcr.com/blog/SQL-Azure-Without-Secrets#enabling-azure-active-directory-authentication-on-sql-azure\" class=\"hash-link\" aria-label=\"Direct link to Enabling Azure Active Directory authentication on SQL Azure\" title=\"Direct link to Enabling Azure Active Directory authentication on SQL Azure\">​</a></h2>\n<p>First, we need to make sure Azure Active Directory authentication is enabled on SQL Azure.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/AADEnabledSQLServer-e77cfc66046d65816ffae2efbfca26ba.jpg\" width=\"1728\" height=\"726\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"adding-users-to-sql-azure-and-assigning-permissions\">Adding users to SQL Azure and assigning permissions<a href=\"https://dsanchezcr.com/blog/SQL-Azure-Without-Secrets#adding-users-to-sql-azure-and-assigning-permissions\" class=\"hash-link\" aria-label=\"Direct link to Adding users to SQL Azure and assigning permissions\" title=\"Direct link to Adding users to SQL Azure and assigning permissions\">​</a></h2>\n<p>To do this, we need to connect to the SQL Azure server using SSMS, and run the following query that creates a user from an Azure Active Directory account, and assigns the db_datareader role to it. You can learn more about the <a href=\"https://learn.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles?https://learn.microsoft.com/sql/relational-databases/security/authentication-access/database-level-roles?WT.mc_id=DT-MVP-5005361#fixed-database-roles\" target=\"_blank\" rel=\"noopener noreferrer\">SQL roles here</a>.</p>\n<div class=\"language-sql codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sql codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token keyword\" style=\"font-style:italic\">CREATE</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"font-style:italic\">USER</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">[</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">&lt;</span><span class=\"token keyword\" style=\"font-style:italic\">user</span><span class=\"token variable\" style=\"color:rgb(191, 199, 213)\">@AAD</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token plain\">tenant</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token plain\">domain</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">]</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"font-style:italic\">FROM</span><span class=\"token plain\"> EXTERNAL PROVIDER</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"font-style:italic\">ALTER</span><span class=\"token plain\"> ROLE db_datareader </span><span class=\"token keyword\" style=\"font-style:italic\">ADD</span><span class=\"token plain\"> MEMBER </span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">[</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">&lt;</span><span class=\"token keyword\" style=\"font-style:italic\">user</span><span class=\"token variable\" style=\"color:rgb(191, 199, 213)\">@AAD</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token plain\">tenant</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token plain\">domain</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">&gt;</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">]</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>Example:\n<img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/AddingUser-b0192e606385dbfb7f1cf3aefda943a1.jpg\" width=\"1552\" height=\"851\" class=\"img_ev3q\"></p>\n<blockquote>\n<p>Note: You can do this at the server level, or at the database level. If you do it at the server level, the user will have access to all the databases in the server. If you do it at the database level, the user will only have access to that database.</p>\n</blockquote>\n<p>As mentioned you can also use managed identities and service principals. Here is an example of how it looks like when using a managed identity:</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/ManagedIdentity-2f9501c03bf65fcb993bfbe290d16edf.jpg\" width=\"1229\" height=\"1053\" class=\"img_ev3q\"></p>\n<p>Here is an example of the query you need to run to create the user from a managed identity and assign it a role, in this case db_datareader:</p>\n<div class=\"language-sql codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-sql codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token keyword\" style=\"font-style:italic\">CREATE</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"font-style:italic\">USER</span><span class=\"token plain\"> </span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">[</span><span class=\"token plain\">name</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token keyword\" style=\"font-style:italic\">of</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token plain\">the</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token plain\">object</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">]</span><span class=\"token plain\"> </span><span class=\"token keyword\" style=\"font-style:italic\">FROM</span><span class=\"token plain\"> EXTERNAL PROVIDER</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">;</span><span class=\"token plain\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\"></span><span class=\"token keyword\" style=\"font-style:italic\">ALTER</span><span class=\"token plain\"> ROLE db_datareader </span><span class=\"token keyword\" style=\"font-style:italic\">ADD</span><span class=\"token plain\"> MEMBER </span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">[</span><span class=\"token plain\">name</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token keyword\" style=\"font-style:italic\">of</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token plain\">the</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token plain\">object</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">]</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>Example:\n<img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/AddingManagedIdentity-0db2d4be1a4a10fd9c7d32566e84c4e4.jpg\" width=\"1528\" height=\"877\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"connecting-to-sql-azure-using-azure-active-directory\">Connecting to SQL Azure using Azure Active Directory<a href=\"https://dsanchezcr.com/blog/SQL-Azure-Without-Secrets#connecting-to-sql-azure-using-azure-active-directory\" class=\"hash-link\" aria-label=\"Direct link to Connecting to SQL Azure using Azure Active Directory\" title=\"Direct link to Connecting to SQL Azure using Azure Active Directory\">​</a></h2>\n<p>Now that we have Azure Active Directory authentication enabled on SQL Azure, and we have added users and assigned permissions, we can connect to SQL Azure using Azure Active Directory.</p>\n<p>The connectiong string looks like this:</p>\n<div class=\"language-csharp codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-csharp codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Server=tcp;&lt;your-server&gt;.database.windows.net,1433;Initial Catalog=&lt;your-database&gt;;Authentication=Active Directory Managed Identity;</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"conclusion\">Conclusion<a href=\"https://dsanchezcr.com/blog/SQL-Azure-Without-Secrets#conclusion\" class=\"hash-link\" aria-label=\"Direct link to Conclusion\" title=\"Direct link to Conclusion\">​</a></h2>\n<p>Your connections to SQL Azure are now more secure and without using secrets by using Azure Active Directory.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"references\">References<a href=\"https://dsanchezcr.com/blog/SQL-Azure-Without-Secrets#references\" class=\"hash-link\" aria-label=\"Direct link to References\" title=\"Direct link to References\">​</a></h2>\n<ul>\n<li><a href=\"https://docs.microsoft.com/azure/azure-sql/database/authentication-aad-overview?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">SQL Azure - Using Azure Active Directory Authentication</a></li>\n</ul>",
            "url": "https://dsanchezcr.com/blog/SQL-Azure-Without-Secrets",
            "title": "Connecting to SQL Azure without Secrets",
            "summary": "In this post I will show you how to connect to SQL Azure without using secrets, using Azure Active Directory.",
            "date_modified": "2023-07-03T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "SQL Azure",
                "GitHub",
                "Azure Active Directory"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/days-work-items-open",
            "content_html": "<p>Depending on how your team tracks the work, they may want to know how many days a work item has been open. For example, if you have a work item that has been open for a long time, you may want to close it or prioritize it.</p>\n<p>In this post, I will show you how to get how many days work items have been open in Azure Boards.</p>\n<p>There are different ways to accomplish this, in this post, I will cover two ways of how to do it, the first one is using the Azure Boards analytics views to get a report in Power BI and the second one is by adding a custom field in your current process that will be updated daily automatically with an Azure Logic App or Power Automate workflow.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"using-azure-boards-analytics\">Using Azure Boards Analytics<a href=\"https://dsanchezcr.com/blog/days-work-items-open#using-azure-boards-analytics\" class=\"hash-link\" aria-label=\"Direct link to Using Azure Boards Analytics\" title=\"Direct link to Using Azure Boards Analytics\">​</a></h2>\n<p>The first option is to use the Azure Boards Analytics views to get the information and then create a report in Power BI.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"create-the-analytics-view\">Create the Analytics view<a href=\"https://dsanchezcr.com/blog/days-work-items-open#create-the-analytics-view\" class=\"hash-link\" aria-label=\"Direct link to Create the Analytics view\" title=\"Direct link to Create the Analytics view\">​</a></h3>\n<p>To create the Analytics view, go to the Analytics views in the Azure DevOps portal and click on the new view button. Then, select the Work Items option, add, or remove the fields that you need and make sure to add the Created Date. Click on the Continue button.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/new-view-5e529db2ce1870530fda0969098e453e.jpg\" width=\"1613\" height=\"516\" class=\"img_ev3q\"></p>\n<p>In the previous screen you can also filter the work items that you do not need, for example where the state is Closed.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/filter-82f60d7e35e6692cbf7485cf7b2e513c.jpg\" width=\"913\" height=\"720\" class=\"img_ev3q\"></p>\n<p>In the next screen, select the History that you need to get, you can also exclude the work items that were completed before a given date.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/history-9403e3a4103adc45537b065603751223.jpg\" width=\"910\" height=\"580\" class=\"img_ev3q\"></p>\n<p>Then you can select the filters that you want to apply to the view, in this case, since this is a test project, I selected all history, and you can see the warning message on top about the amount of data. In this section you can also exclude the work items that were completed before the date that you choose.</p>\n<p>Once the view is verified and created, we are ready to open Power BI, in my case I used the Power BI Desktop application.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"create-the-power-bi-report\">Create the Power BI report<a href=\"https://dsanchezcr.com/blog/days-work-items-open#create-the-power-bi-report\" class=\"hash-link\" aria-label=\"Direct link to Create the Power BI report\" title=\"Direct link to Create the Power BI report\">​</a></h3>\n<p>In Power BI, click on the Get Data button and select the Azure DevOps option.</p>\n<p>Then, enter the URL of your Azure DevOps organization, team project and select the Analytics view that you created in the previous step then click on Load the data.</p>\n<p>Next, you need to select the columns that you would like to see in your report, in my case I selected the Work Item Id, Title, State and Created Date.</p>\n<p>As a filter you can select the status that you only want, in my case I removed the Resolved work items. Then create a new column to calculate the days open, in my case I used the following formula:</p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">DaysOpen = DATEDIFF(DaysOpen[Created Date],TODAY(),DAY)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>Once the new column is created, you just need to add it to the report, and you will see the days open for each work item.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/powerbi-2d102c35ce5b8a04cdb86f8fa8d5b9c1.jpg\" width=\"1920\" height=\"754\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"using-a-custom-field\">Using a custom field<a href=\"https://dsanchezcr.com/blog/days-work-items-open#using-a-custom-field\" class=\"hash-link\" aria-label=\"Direct link to Using a custom field\" title=\"Direct link to Using a custom field\">​</a></h2>\n<p>The second option is to add a custom field in your current process that will be updated daily automatically with an Azure Logic App or Power Automate workflow.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"create-the-custom-field\">Create the custom field<a href=\"https://dsanchezcr.com/blog/days-work-items-open#create-the-custom-field\" class=\"hash-link\" aria-label=\"Direct link to Create the custom field\" title=\"Direct link to Create the custom field\">​</a></h3>\n<p>To create the custom field, go to the Process section in the Azure DevOps portal and select the process that you want to update. Then, click on the Work item types option and select the work item type that you want to update, in this case, I selected the User Story work item type.</p>\n<blockquote>\n<ul>\n<li>If your current process is a default process, you will need to create a new inherited process and then update the work item types.</li>\n<li>You will need to do this with all the work item types that you want to update.</li>\n</ul>\n</blockquote>\n<p>Add the new field to the work item type, in this case, I added the Days Open field as Integer to the Classification section.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/user-story-880dd56fb824cdc4b466a5288167aae2.jpg\" width=\"1337\" height=\"640\" class=\"img_ev3q\"></p>\n<blockquote>\n<p>Remember to update the process if you created an inherited process.</p>\n</blockquote>\n<blockquote>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/change-process-e87e854a9b02e7a049ea0941eebb18af.jpg\" width=\"462\" height=\"243\" class=\"img_ev3q\"></p>\n</blockquote>\n<p>Once the process is updated with the custom field, I created a new query to get the work items (user stories in this case) that are not closed or resolved.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/query-user-stories-85693dc36b7f996861ce4478c2313893.jpg\" width=\"1908\" height=\"405\" class=\"img_ev3q\"></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"create-the-logic-app\">Create the Logic App<a href=\"https://dsanchezcr.com/blog/days-work-items-open#create-the-logic-app\" class=\"hash-link\" aria-label=\"Direct link to Create the Logic App\" title=\"Direct link to Create the Logic App\">​</a></h3>\n<p>In the Azure Portal, create the Azure Logic App and add a Recurrence trigger to run the workflow daily.</p>\n<p>I created a variable to store the Created Date for each Work Item. Since I created a query in Azure Boards, I used the 'Get Query Results' action to get the work items that are not closed or resolved. (You can get up to 20,000 work items)</p>\n<p>Then, in a for each loop, I used the 'Update Work Item' action to set the custom field 'Days Open' with the following formula:</p>\n<div class=\"codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-text codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">div(sub(ticks(utcNow()), ticks(variables('CreatedDate'))), 864000000000)</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/logic-app-c23fa5cf611bfe4cd047ea344d9184c0.jpg\" width=\"1001\" height=\"1677\" class=\"img_ev3q\"></p>\n<p>Once the Logic App ran, you can see the Days Open field updated in the work items.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/query-results-8bd031522803bb18215cc3205951c93e.jpg\" width=\"1406\" height=\"592\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"conclusion\">Conclusion<a href=\"https://dsanchezcr.com/blog/days-work-items-open#conclusion\" class=\"hash-link\" aria-label=\"Direct link to Conclusion\" title=\"Direct link to Conclusion\">​</a></h2>\n<p>In this post, I showed you how to get how many days work items have been open in Azure Boards. I hope you find this post useful!</p>",
            "url": "https://dsanchezcr.com/blog/days-work-items-open",
            "title": "How many days work items have been open in Azure Boards",
            "summary": "In this post, I will show you how to get how many days work items have been open in Azure Boards.",
            "date_modified": "2023-05-05T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Azure DevOps",
                "Azure Boards",
                "Work Items"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/verified-commits-in-github",
            "content_html": "<p>A commit is a code change that is made to a repository. When a developer makes a commit, it is important to ensure that the code changes are made by an authorized person and that the changes have not been tampered with. This is where GitHub verified commits come in. This is useful to prevent impersonation and to ensure that the code you are downloading is the code that was uploaded by the developer.</p>\n<p>GitHub verified commits use digital signatures to ensure the authenticity of code changes. When a developer makes a commit, they can sign the commit using their GPG (GNU Privacy Guard) key. This key is a unique identifier that is used to verify the authenticity of the code changes. Once the commit is signed, GitHub will display a green \"verified\" badge next to the commit. Like this:</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/VerifiedCommits-9937a751e32f349fbb5f95d254c1830f.jpg\" width=\"1005\" height=\"517\" class=\"img_ev3q\"></p>\n<p>To use GitHub verified commits, developers must first generate a GPG key. This key is a type of encryption key that is used to sign and verify digital signatures.</p>\n<p>Once the key is generated, it can be uploaded to GitHub and used to sign commits.</p>\n<p>To generate a GPG key, you will need to install GPG on your computer. There are different ways to generate the key, in my case I did using <a href=\"https://www.gpg4win.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Gpg4win</a> but you can also do it using the command line with the following command:</p>\n<div class=\"language-bash codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">gpg --full-generate-key</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>In my case I did it using Kleopatra, which is a certificate manager and GUI for GnuPG:</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/Kleopatra-e5ad9ba04055720fd0f5b0e30639b5ee.jpg\" width=\"1026\" height=\"528\" class=\"img_ev3q\"></p>\n<p>Once you have the key, you can export it and upload it to GitHub. In settings, go to SSH and GPG keys and click on New GPG key:</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/GHSettingsGPG-8060c46e1f77f7fce766a5e937b8a4b4.jpg\" width=\"981\" height=\"598\" class=\"img_ev3q\"></p>\n<p>Then you need to configure your git client to use the key. In my case, this is how I did it:</p>\n<div class=\"language-bash codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">git config --global user.signingkey &lt;your key id&gt;</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">git config --global commit.gpgsign true</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/GitConfig-a93ece1183de98b94f33cb4ebea25607.jpg\" width=\"1113\" height=\"147\" class=\"img_ev3q\"></p>\n<p>Now you can make a commit and sign it using the following command or the <a href=\"https://desktop.github.com/\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Desktop</a> client.</p>\n<div class=\"language-bash codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-bash codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">git commit -S -m \"Your commit message\"</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>And that's it, now GitHub will show the verified badge next to your commit.</p>",
            "url": "https://dsanchezcr.com/blog/verified-commits-in-github",
            "title": "Verified Commits in GitHub",
            "summary": "In this post, I will show you how to verify commits in GitHub using GPG keys.",
            "date_modified": "2023-04-25T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Github",
                "Git"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/building-a-contact-form-with-azure",
            "content_html": "<p>In this post, we will build a contact form with Azure Functions and Azure Communication Services.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"introduction\">Introduction<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#introduction\" class=\"hash-link\" aria-label=\"Direct link to Introduction\" title=\"Direct link to Introduction\">​</a></h2>\n<p>Having a functional contact form on your website is essential. A contact form is a simple yet effective way to receive inquiries and feedback from your visitors, customers, or clients. In this blog post, I will share my experience in building a contact form using Azure Functions and Azure Communication Service's Email Service.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"why-azure-functions\">Why Azure Functions?<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#why-azure-functions\" class=\"hash-link\" aria-label=\"Direct link to Why Azure Functions?\" title=\"Direct link to Why Azure Functions?\">​</a></h2>\n<p><a href=\"https://learn.microsoft.com/azure/azure-functions/functions-overview?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Functions</a> is a serverless computing service offered by Microsoft Azure. It allows developers to build, run, and scale applications without having to manage infrastructure. Azure Functions support multiple programming languages, including C#, Java, JavaScript, Python, and PowerShell.</p>\n<p>In this case my website is running on a static web app, so I need to use a serverless solution to build the contact form. Azure Functions is a great option because it allows me to build a contact form without having to manage infrastructure or worry about the complexities of communication protocols.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"what-is-azure-communication-service\">What is Azure Communication Service?<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#what-is-azure-communication-service\" class=\"hash-link\" aria-label=\"Direct link to What is Azure Communication Service?\" title=\"Direct link to What is Azure Communication Service?\">​</a></h2>\n<p><a href=\"https://learn.microsoft.com/azure/communication-services/overview?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Communication Service</a> is a communication platform offered by Microsoft Azure. It provides developers with the tools and services to integrate real-time communication features such as voice, video, chat, and SMS messaging into their applications. Azure Communication Service also offers an <a href=\"https://learn.microsoft.com/azure/communication-services/concepts/email/email-overview\" target=\"_blank\" rel=\"noopener noreferrer\">Email Service</a> that allows developers to send and receive emails programmatically.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"building-the-contact-form-using-azure-functions-and-azure-communication-service\">Building the Contact Form using Azure Functions and Azure Communication Service<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#building-the-contact-form-using-azure-functions-and-azure-communication-service\" class=\"hash-link\" aria-label=\"Direct link to Building the Contact Form using Azure Functions and Azure Communication Service\" title=\"Direct link to Building the Contact Form using Azure Functions and Azure Communication Service\">​</a></h2>\n<p>To build a contact form using Azure Functions and Azure Communication Service's Email Service, I followed these steps:</p>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"1-create-the-azure-resources\">1. Create the Azure resources<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#1-create-the-azure-resources\" class=\"hash-link\" aria-label=\"Direct link to 1. Create the Azure resources\" title=\"Direct link to 1. Create the Azure resources\">​</a></h4>\n<p>The first step was to create the Azure resources. These are the resouces that I used in this sample application:</p>\n<ul>\n<li><a href=\"https://learn.microsoft.com/azure/communication-services/quickstarts/create-communication-resource?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Communication Service</a> - to manage the Email service.</li>\n<li><a href=\"https://learn.microsoft.com/azure/communication-services/quickstarts/email/create-email-communication-resource?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Email Service (Part of Azure Communication Service)</a> - to send emails.</li>\n<li><a href=\"https://learn.microsoft.com/azure/azure-functions/functions-create-first-function-vs-code?pivots=programming-language-csharp?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Function</a> - to process the HTTP trigger sent by the HTML and send the emails using Azure Communication Service.</li>\n<li><a href=\"https://learn.microsoft.com/azure/static-web-apps/getting-started?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Static Web App</a> - to host the website (Index.html in this case).</li>\n</ul>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/AzureResourceVisualizer-9c96dc82f12f1934c5265d8344d0b1fd.jpg\" width=\"1487\" height=\"638\" class=\"img_ev3q\"></p>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"2-configure-the-azure-communication-services---email-service\">2. Configure the Azure Communication Services - Email Service<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#2-configure-the-azure-communication-services---email-service\" class=\"hash-link\" aria-label=\"Direct link to 2. Configure the Azure Communication Services - Email Service\" title=\"Direct link to 2. Configure the Azure Communication Services - Email Service\">​</a></h4>\n<p>The next step was to configure the Azure Communication Services - Email Service. This includes setting up an email address to send emails. When you create this service you can choose if you want to use an Azure subdomain or if you want to setup your own domain.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/AzureEmailCommunicationService-df292601b0710d1521952e307bd06599.jpg\" width=\"891\" height=\"755\" class=\"img_ev3q\"></p>\n<p>In this case, I used the email address provisioned by an Azure subdomain.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/DomainProvision-e4099e2182f85c83b33e904aca4c774d.jpg\" width=\"1470\" height=\"466\" class=\"img_ev3q\"></p>\n<p>The email address was created and configured automatically:</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/EmailCommunicationService-844b1adb2f6bdb9fd44bd3a5bdd3ae85.jpg\" width=\"1470\" height=\"518\" class=\"img_ev3q\"></p>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"3-develop-the-azure-function\">3. Develop the Azure Function<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#3-develop-the-azure-function\" class=\"hash-link\" aria-label=\"Direct link to 3. Develop the Azure Function\" title=\"Direct link to 3. Develop the Azure Function\">​</a></h4>\n<p>The first step was to create an Azure Function. You can choose from various templates based on the programming language of your choice. In this case, I used the VS Code to create the C# Azure Function with a HTTP trigger. The Function sends two emails, one to notify the website owner and another one to notify the user who sends the message through the website to let me know that their message was sent.</p>\n<blockquote>\n<p>To call the Azure Function, it is required to send three parameters: <code>name</code>, <code>email</code>, and <code>message</code>.\nAlso, the Function is using three environment variables that you need to create in the Azure Function configuration:</p>\n</blockquote>\n<ul>\n<li><code>myEmailAddress</code>: to notify the website owner that a new message has been received.</li>\n<li><code>senderEmailAddress</code>: the email address that was provisioned in the Azure Communication Service configuration.</li>\n<li><code>AzureCommunicationServicesConnectionString</code>: the connection string that was provisioned in the Azure Communication Service configuration.</li>\n</ul>\n<p>The <a href=\"https://learn.microsoft.com/dotnet/api/azure.communication.email.emailclient?view=azure-dotnet&amp;WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">EmailClient</a> class is used to send emails using the Azure Communication Service Email Service and it is initialized with the connection string.</p>\n<p>The following code snippet shows the HTTP trigger function:</p>\n<div class=\"language-c codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockTitle_Ktv7\">Azure Function HTTP Trigger - SendEmails.cs</div><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-c codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">https</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">:</span><span class=\"token comment\" style=\"color:rgb(105, 112, 152);font-style:italic\">//github.com/dsanchezcr/ContactFormWithAzure/blob/9f619eb2c8d41e45574557dbf3c2f95486391d30/api/SendEmails.cs#L17-L57</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"4-develop-the-front-end\">4. Develop the front end<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#4-develop-the-front-end\" class=\"hash-link\" aria-label=\"Direct link to 4. Develop the front end\" title=\"Direct link to 4. Develop the front end\">​</a></h4>\n<p>In my case I created a simple HTML file and added the necessary form fields for the contact form, name, email, and message.</p>\n<div class=\"language-html codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockTitle_Ktv7\">Form to send the email</div><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-html codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">https://github.com/dsanchezcr/ContactFormWithAzure/blob/9f619eb2c8d41e45574557dbf3c2f95486391d30/Index.html#L123-L137</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>Here is the JavaScript code that I used to process the call to Azure Function:</p>\n<div class=\"language-javascript codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockTitle_Ktv7\">JavaScript code to call the Azure Function</div><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-javascript codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token literal-property property\">https</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">:</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">/</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">/</span><span class=\"token plain\">github</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">.</span><span class=\"token property-access\">com</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">/</span><span class=\"token plain\">dsanchezcr</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">/</span><span class=\"token maybe-class-name\">ContactFormWithAzure</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">/</span><span class=\"token plain\">blob</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">/</span><span class=\"token plain\">9f619eb2c8d41e45574557dbf3c2f95486391d30</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">/</span><span class=\"token maybe-class-name\">Index</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">.</span><span class=\"token property-access\">html</span><span class=\"token plain\">#</span><span class=\"token constant\" style=\"color:rgb(130, 170, 255)\">L8</span><span class=\"token operator\" style=\"color:rgb(137, 221, 255)\">-</span><span class=\"token constant\" style=\"color:rgb(130, 170, 255)\">L32</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"5-github-actions-to-build-and-deploy-the-solution\">5. GitHub Actions to build and deploy the solution<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#5-github-actions-to-build-and-deploy-the-solution\" class=\"hash-link\" aria-label=\"Direct link to 5. GitHub Actions to build and deploy the solution\" title=\"Direct link to 5. GitHub Actions to build and deploy the solution\">​</a></h4>\n<p>I created a GitHub Action to build and deploy the Azure Function and the website. The following code snippet shows the GitHub Action:</p>\n<div class=\"language-yaml codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockTitle_Ktv7\">GitHub Action to build and deploy the solution</div><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-yaml codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">https</span><span class=\"token punctuation\" style=\"color:rgb(199, 146, 234)\">:</span><span class=\"token plain\">//github.com/dsanchezcr/ContactFormWithAzure/blob/9f619eb2c8d41e45574557dbf3c2f95486391d30/.github/workflows/main_contactformwithazure.yml</span><span class=\"token comment\" style=\"color:rgb(105, 112, 152);font-style:italic\">#L1-L45</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<blockquote>\n<p>The GitHub Action is using two secrets that you need to configure:</p>\n</blockquote>\n<ul>\n<li><code>AZUREAPPSERVICE_PUBLISHPROFILE</code>: the publish profile of the Azure Function.</li>\n<li><code>AZURE_STATIC_WEB_APPS_API_TOKEN</code>: the API token of the Azure Static Web App.</li>\n</ul>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"testing-the-solution\">Testing the solution<a href=\"https://dsanchezcr.com/blog/building-a-contact-form-with-azure#testing-the-solution\" class=\"hash-link\" aria-label=\"Direct link to Testing the solution\" title=\"Direct link to Testing the solution\">​</a></h2>\n<p>I tested the solution by sending a message from the contact form. The following image shows the email that was sent to the website owner and the email that was sent to the user who posted the message.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/ContactFormResult-96f36d1004a5c52573bce7ad566885c6.jpg\" width=\"1728\" height=\"1078\" class=\"img_ev3q\"></p>\n<p>You can try the solution <a href=\"https://purple-sky-05cd51e0f.3.azurestaticapps.net/Index.html\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<p>And check out my production contact form <a href=\"https://dsanchezcr.com/contact\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>",
            "url": "https://dsanchezcr.com/blog/building-a-contact-form-with-azure",
            "title": "Building a simple contact form",
            "summary": "In this post, we will build a contact form with Azure Functions and Azure Communication Services.",
            "date_modified": "2023-04-23T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Azure Functions",
                "GitHub Actions",
                "Azure Communication Services",
                "Azure Static Web Apps"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/azure-devops-to-github-repo-migration",
            "content_html": "<p>Migrating a repository from one platform to another can be a challenging task, but with the right tools and guidance, it can be a straightforward process. We'll guide you through the steps to migrate a repository from Azure DevOps to GitHub using the import code option.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"1-locate-the-repository-in-azure-devops\">1. Locate the repository in Azure DevOps.<a href=\"https://dsanchezcr.com/blog/azure-devops-to-github-repo-migration#1-locate-the-repository-in-azure-devops\" class=\"hash-link\" aria-label=\"Direct link to 1. Locate the repository in Azure DevOps.\" title=\"Direct link to 1. Locate the repository in Azure DevOps.\">​</a></h2>\n<p>We used the <a href=\"https://azuredevopsdemogenerator.azurewebsites.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Azure DevOps Demo Generator</a> to create a sample project with multiple repositories that contain multiple branches. We will start the migration with the <a href=\"https://github.com/microsoft/tailwindTraders-backend\" target=\"_blank\" rel=\"noopener noreferrer\">TailwindTraders-Backend</a> repository.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/ADORepo-86604fd2bcc653fe2337f31e04a8558f.png\" width=\"624\" height=\"251\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"2-create-a-new-repository-in-github\">2. Create a new repository in GitHub.<a href=\"https://dsanchezcr.com/blog/azure-devops-to-github-repo-migration#2-create-a-new-repository-in-github\" class=\"hash-link\" aria-label=\"Direct link to 2. Create a new repository in GitHub.\" title=\"Direct link to 2. Create a new repository in GitHub.\">​</a></h2>\n<p>Go to your GitHub account or organization and click on the \"New repository\" button. Give your repository a name and description and choose the appropriate visibility settings.\nIn this case we are using the following naming structure: <code>&lt;ADOProjectName&gt;.&lt;ADORepoName&gt;</code>.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/GHRepo-abed8842c1da5f9db77e35ca5abc7fec.png\" width=\"624\" height=\"467\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"3-import-the-repository-to-github\">3. Import the repository to GitHub.<a href=\"https://dsanchezcr.com/blog/azure-devops-to-github-repo-migration#3-import-the-repository-to-github\" class=\"hash-link\" aria-label=\"Direct link to 3. Import the repository to GitHub.\" title=\"Direct link to 3. Import the repository to GitHub.\">​</a></h2>\n<p>Now that you have your new GitHub repository, it's time to import your repository to GitHub. To do this, go to your new GitHub repository and click on the \"Import code\" button.</p>\n<p>In the \"Your old repository's clone URL\" field, enter the URL you found in your Azure DevOps repository in Step 1. Click “Begin Import”</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/ADORepoURL-32b1d6c976ab7bf0b0693c9bf0c1b07e.png\" width=\"624\" height=\"75\" class=\"img_ev3q\"></p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/GHImportCode-ce728ed3cb991d0ac046757f00587789.png\" width=\"624\" height=\"370\" class=\"img_ev3q\"></p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/GHImportRepo-7a2e9ee4e0fcbcb80eb0ae82560a2fb6.png\" width=\"624\" height=\"219\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"4-authenticate-to-your-azure-devops-project\">4. Authenticate to your Azure DevOps project.<a href=\"https://dsanchezcr.com/blog/azure-devops-to-github-repo-migration#4-authenticate-to-your-azure-devops-project\" class=\"hash-link\" aria-label=\"Direct link to 4. Authenticate to your Azure DevOps project.\" title=\"Direct link to 4. Authenticate to your Azure DevOps project.\">​</a></h2>\n<p>To authenticate to Azure DevOps, you can use a <a href=\"https://learn.microsoft.com/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?WT.mc_id=DT-MVP-5005361&amp;view=azure-devops&amp;tabs=Windows#create-a-pat\" target=\"_blank\" rel=\"noopener noreferrer\">personal access token</a> with read access to code. And enter your username and PAT in GitHub, then click “Submit”.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/ADOPAT-81847ab1a0e637284f7094ceaab8a1c1.png\" width=\"624\" height=\"209\" class=\"img_ev3q\"></p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/GHAuth-ba0e7de5a1701c693f34d4e7c98e5c34.png\" width=\"624\" height=\"238\" class=\"img_ev3q\"></p>\n<p>Depending on the size of your repository, the import process can take some time. You'll receive an email notification once the import process is complete.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/GHMigration-5dbf4d71c36edb561799f0cccaea1d77.png\" width=\"624\" height=\"172\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"5-verify-your-repository-in-github\">5. Verify your repository in GitHub.<a href=\"https://dsanchezcr.com/blog/azure-devops-to-github-repo-migration#5-verify-your-repository-in-github\" class=\"hash-link\" aria-label=\"Direct link to 5. Verify your repository in GitHub.\" title=\"Direct link to 5. Verify your repository in GitHub.\">​</a></h2>\n<p>Once the import process is complete, go to your new GitHub repository and verify that all your branches, tags, and commits have been imported correctly. You can also check that your repository's history has been preserved by looking at the commit history.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/RepoMigrated-6279c5ebd4a635f1be901551ee10c6c5.png\" width=\"624\" height=\"294\" class=\"img_ev3q\"></p>\n<p>Congratulations! You've successfully migrated your repository from Azure DevOps to GitHub using the import code option.</p>",
            "url": "https://dsanchezcr.com/blog/azure-devops-to-github-repo-migration",
            "title": "Azure DevOps to GitHub – Repo Migration",
            "summary": "Migrating a repository from one platform to another can be a challenging task, but with the right tools and guidance, it can be a straightforward process.",
            "date_modified": "2023-04-14T12:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Azure DevOps",
                "GitHub",
                "Migration"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/list-azure-repos-with-sizes",
            "content_html": "<p>In this short post, I will show you how to list the Azure Repos in an Azure DevOps Project with their sizes in MB using a PowerShell script.</p>\n<p>To follow this post, you will need to create a Personal Access Token (PAT) with the <strong>Code (read)</strong> permission. You can read more about PAT in the <a href=\"https://learn.microsoft.com/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate\" target=\"_blank\" rel=\"noopener noreferrer\">official documentation</a>.</p>\n<div class=\"language-powershell codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-powershell codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$DevOpsServerName = \"&lt;YOUR AZURE DEVOPS SERVER NAME&gt;\"</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$ProjectCollection = \"&lt;YOUR PROJECT COLLECTION NAME&gt;\"</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$Project = \"&lt;YOUR PROJECT NAME&gt;\"</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$PAT = \"&lt;YOUR PERSONAL ACCESS TOKEN&gt;\"</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$baseUrl = https://$DevOpsServerName/$ProjectCollection/$Project/_apis/git/repositories?includeLinks={includeLinks}&amp;includeAllUrls={includeAllUrls}&amp;includeHidden={includeHidden}&amp;api-version=6.0</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$base64AuthInfo= [System.Convert]::ToBase64String([System.Text.Encoding]::ASCII.GetBytes(\":$($PAT)\"))</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$headers = @{Authorization=(\"Basic {0}\" -f $base64AuthInfo)}</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$repositories = Invoke-RestMethod -Uri $baseUrl -Method Get -Headers $headers</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\" style=\"display:inline-block\"></span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">foreach ($repo in $repositories.value) {</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    $repoName = $repo.name</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    $repoSize = [math]::Round(($repo.size / 1MB),2) </span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    </span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"$repoName $repoSize MB\"</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">} </span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>Here is an example of the output of that script:</p>\n<div class=\"language-powershell codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-powershell codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">Tailwind Traders 10.65 MB</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">TailwindTraders-Backend 28.45 MB</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">TailwindTraders-Website 14.04 MB </span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>The script above use the Azure DevOps Rest API to get the repositories and their sizes. You can read more about the API in the <a href=\"https://docs.microsoft.com/rest/api/azure/devops/git/repositories/list?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">official documentation</a>.</p>\n<p>This is helpful to know the size of your repositories in case you are planning to do a migration, or in case you would like to know if you have large files, and to know if you need to clean up some of them.</p>\n<p>Hope this helps!</p>",
            "url": "https://dsanchezcr.com/blog/list-azure-repos-with-sizes",
            "title": "List repositories with their sizes in Azure Repos",
            "summary": "Learn how to list your Azure Repos with their sizes using PowerShell.",
            "date_modified": "2023-02-28T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Azure DevOps",
                "PowerShell"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/cost-savings-with-azure",
            "content_html": "<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"introduction\">Introduction<a href=\"https://dsanchezcr.com/blog/cost-savings-with-azure#introduction\" class=\"hash-link\" aria-label=\"Direct link to Introduction\" title=\"Direct link to Introduction\">​</a></h2>\n<p>Many of our web app hosted on Azure are built on top of a PaaS service, such as Azure App Service and SQL Azure. These services are usually billed based on the amount of resources they consume. The more resources they consume, the more we pay. However, there are some best practices that we can follow to reduce the amount of resources consumed and, therefore, reduce the amount of money we pay. Specially if we are running a web app that is not used 24/7 or just used during business hours in the same time zone.</p>\n<p>One of the cloud computing principles is the <strong>elasticity</strong>, meaning that we can scale up or down the resources that our app consumes based on the demand or schedule. This is a great feature of the cloud, but we should be aware of the cost implications of this feature. If we scale up our app to handle a peak of traffic, we should also scale down the resources when the traffic is back to normal.</p>\n<p>In Azure App Service we have two ways to scale, scale up or down and scale out or in. Scale up or down means that we can change the size of the VM that our app is running on. Scale out or in means that we can add or remove VMs from our app. We can scale up or down and scale out or in at the same time. For example, we can scale up the size of the VMs and add more VMs to our app.</p>\n<p>So if we have a production Web App that is not used 24/7, we should consider the following:</p>\n<ul>\n<li>Scale down the app and database to the minimum resources needed during off-peak hours.</li>\n<li>Scale up the app and database to the maximum resources needed during peak hours. (in addition, we should enable auto-scaling to scale out the app and add more instances when needed, <a href=\"https://learn.microsoft.com/azure/azure-monitor/autoscale/autoscale-get-started?WT.mc_id=DT-MVP-5005361&amp;toc=%2Fazure%2Fapp-service%2Ftoc.json#create-your-first-autoscale-setting\" target=\"_blank\" rel=\"noopener noreferrer\">through the rules that you define to scale out or in</a>).</li>\n</ul>\n<p>The process to scale up and down can be down manually from the portal as shown in the image.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/AzurePortal-ScaleUp-d4a0cb5077013d4d508c3b6c9c51357d.jpg\" width=\"1762\" height=\"871\" class=\"img_ev3q\"></p>\n<p>However, this process can be tedious and error-prone. We can automate the process to scale up and down the Web App and the database during the night and weekends. This will reduce the amount of resources consumed and, therefore, reduce the amount of money we pay.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"solution\">Solution<a href=\"https://dsanchezcr.com/blog/cost-savings-with-azure#solution\" class=\"hash-link\" aria-label=\"Direct link to Solution\" title=\"Direct link to Solution\">​</a></h2>\n<p>We can use <a href=\"https://learn.microsoft.com/azure/automation/overview?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Automation</a> service to schedule a PowerShell script to scale down the Web App and the DB during the night and weekends. We can also schedule another PowerShell script to scale up the Web App and the DB during before the business hours.</p>\n<blockquote>\n<p>You will need to setup an System Assigned Identity to the Azure Automation account to connect with the Azure Resources. You can follow the steps in this <a href=\"https://learn.microsoft.com/azure/automation/learn/powershell-runbook-managed-identity?WT.mc_id=DT-MVP-5005361#assign-permissions-to-managed-identities\" target=\"_blank\" rel=\"noopener noreferrer\">article</a>.</p>\n</blockquote>\n<p>Let's explore the PowerShell scripts that we can use:</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"scale-up-or-down-the-web-app\">Scale Up or Down the Web App<a href=\"https://dsanchezcr.com/blog/cost-savings-with-azure#scale-up-or-down-the-web-app\" class=\"hash-link\" aria-label=\"Direct link to Scale Up or Down the Web App\" title=\"Direct link to Scale Up or Down the Web App\">​</a></h3>\n<div class=\"language-powershell codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-powershell codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$resourceGroupName = '&lt;Your Resource Group&gt;'</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$appServicePlanName = '&lt;Your App Service&gt;'</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$tier = '&lt;Tier you would like to scale down - For example: Basic&gt;'</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">try</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">{</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    filter timestamp {\"[$(Get-Date -Format G)]: $_\"}</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"Script started.\" | timestamp</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Verbose \"Logging in to Azure...\" -Verbose</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Connect-AzAccount -Identity</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Verbose \"Login sucessful. Proceding to update service plan...\" -Verbose</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Set-AzAppServicePlan -ResourceGroupName $resourceGroupName -Name $appServicePlanName -tier $tier</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Verbose \"Service plan updated. Getting information about the update...\" -Verbose</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    $appPlanService = Get-AzAppServicePlan -ResourceGroupName $resourceGroupName -Name $appServicePlanName</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"App Service Plan name: $($appPlanService.Name)\" | timestamp</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"Current App Service Plan status: $($appPlanService.Status), tier: $($appPlanService.Sku.Name)\" | timestamp</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"Script finished.\"</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">catch {</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Verbose \"Error... '$_.Exception'\" -Verbose</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Error -Message $_.Exception</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    throw $_.Exception</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"scale-up-or-down-the-sql-azure\">Scale Up or Down the SQL Azure<a href=\"https://dsanchezcr.com/blog/cost-savings-with-azure#scale-up-or-down-the-sql-azure\" class=\"hash-link\" aria-label=\"Direct link to Scale Up or Down the SQL Azure\" title=\"Direct link to Scale Up or Down the SQL Azure\">​</a></h3>\n<div class=\"language-powershell codeBlockContainer_Ckt0 theme-code-block\" style=\"--prism-color:#bfc7d5;--prism-background-color:#292d3e\"><div class=\"codeBlockContent_biex\"><pre tabindex=\"0\" class=\"prism-code language-powershell codeBlock_bY9V thin-scrollbar\" style=\"color:#bfc7d5;background-color:#292d3e\"><code class=\"codeBlockLines_e6Vv\"><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$resourceGroupName = '&lt;Your Resource Group&gt;'</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$SqlServerName = '&lt;Your SQL Azure Server Name&gt;'</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$DatabaseName = '&lt;Your SQL Azure DB Name&gt;'</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$Edition = '&lt;Tier you would like to scale down - For example: Basic&gt;'</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">$PerfLevel = '&lt;Tier you would like to scale down - For example: Basic&gt;'</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">try{</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    filter timestamp {\"[$(Get-Date -Format G)]: $_\"}</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"Script started.\" | timestamp</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Verbose \"Logging in to Azure...\" -Verbose</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Connect-AzAccount -Identity  </span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Verbose \"Login sucessful. Proceding to update SQL Server plan...\" -Verbose</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Set-AzSqlDatabase -ResourceGroupName $resourceGroupName -DatabaseName $DatabaseName -ServerName $SqlServerName -Edition $Edition -RequestedServiceObjectiveName $PerfLevel </span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Verbose \"SQL Server plan updated. Getting information about the update...\" -Verbose</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    $sqlServerPlan = Get-AzSqlDatabase -ResourceGroupName $resourceGroupName -DatabaseName $DatabaseName -ServerName $SqlServerName</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"SQL Server Edition: $($sqlServerPlan.Edition)\" | timestamp</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"Current SQL Server Plan status: $($sqlServerPlan.Status)\" | timestamp</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Output \"Script finished.\"</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">}</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">catch{</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Verbose \"Error... '$_.Exception'\" -Verbose</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    Write-Error -Message $_.Exception</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">    throw $_.Exception</span><br></span><span class=\"token-line\" style=\"color:#bfc7d5\"><span class=\"token plain\">}</span><br></span></code></pre><div class=\"buttonGroup__atx\"><button type=\"button\" aria-label=\"Copy code to clipboard\" title=\"Copy\" class=\"clean-btn\"><span class=\"copyButtonIcons_eSgA\" aria-hidden=\"true\"><svg viewBox=\"0 0 24 24\" class=\"copyButtonIcon_y97N\"><path fill=\"currentColor\" d=\"M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z\"></path></svg><svg viewBox=\"0 0 24 24\" class=\"copyButtonSuccessIcon_LjdS\"><path fill=\"currentColor\" d=\"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z\"></path></svg></span></button></div></div></div>\n<p>Once you create the Runbooks in Azure Automation you can create the schedules and linke the Runbooks to the schedules.</p>\n<p><img loading=\"lazy\" src=\"https://dsanchezcr.com/assets/images/Automation-dc1cd613360a72d3d5c2b78eabcc35b7.jpg\" width=\"926\" height=\"650\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"conclusion\">Conclusion<a href=\"https://dsanchezcr.com/blog/cost-savings-with-azure#conclusion\" class=\"hash-link\" aria-label=\"Direct link to Conclusion\" title=\"Direct link to Conclusion\">​</a></h2>\n<p>We have seen how we can use Azure Automation and PowerShell to schedule the scaling up or down of the Web App and the SQL Azure. This will help us to save money and also to avoid the downtime during the business hours by adding the resources we do not use at night.</p>",
            "url": "https://dsanchezcr.com/blog/cost-savings-with-azure",
            "title": "Cost Savings with Azure for your Web Apps",
            "summary": "Learn how to optimize what you pay in Azure for your Web Apps with PaaS.",
            "date_modified": "2023-01-04T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Azure",
                "Cost Savings",
                "Web Apps",
                "SQL Azure"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows",
            "content_html": "<h4 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"duplicate-from-xpirit-blog-post\"><a href=\"https://xpirit.com/adding-load-testing-to-your-workflows\" target=\"_blank\" rel=\"noopener noreferrer\">Duplicate from Xpirit Blog Post</a><a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#duplicate-from-xpirit-blog-post\" class=\"hash-link\" aria-label=\"Direct link to duplicate-from-xpirit-blog-post\" title=\"Direct link to duplicate-from-xpirit-blog-post\">​</a></h4>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"introduction\">Introduction<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#introduction\" class=\"hash-link\" aria-label=\"Direct link to Introduction\" title=\"Direct link to Introduction\">​</a></h2>\n<p>Load testing is a technique that focuses on evaluating the performance of an application under normal or expected load conditions. The goal is to determine how the application behaves when it is subjected to the expected levels of usage and traffic. Load testing is often used to verify that a system can handle the expected number of users and transactions, and to identify any performance bottlenecks or issues that may impact the user experience.</p>\n<p>Microsoft Azure offers a new service (on preview), called <a href=\"https://azure.microsoft.com/products/load-testing\" target=\"_blank\" rel=\"noopener noreferrer\">Azure Load Testing</a>. One of the key benefits of using this service is that it allows you to test your application's performance at a scale without having to invest in expensive hardware and infrastructure. Additionally, it is highly configurable and can be used to test applications hosted on a variety of platforms, including Azure, on-premises servers, and third-party cloud providers.</p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"what-do-we-need\">What do we need?<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#what-do-we-need\" class=\"hash-link\" aria-label=\"Direct link to What do we need?\" title=\"Direct link to What do we need?\">​</a></h2>\n<p>In addition to an Azure Subscription, and a GitHub account, we will need an <a href=\"https://jmeter.apache.org/\" target=\"_blank\" rel=\"noopener noreferrer\">Apache JMeter</a> script, which typically consists of a series of test elements, including thread groups, samplers, listeners, and assertions. The thread groups define the number and type of virtual users that will be simulated, while the samplers define the specific actions or requests that will be performed by the virtual users. The listeners capture the performance data generated by the test, and the assertions define the expected results of the test and verify that the actual results match the expectations.</p>\n<p><a href=\"https://raw.githubusercontent.com/dsanchezcr/LoadTestingDemo/main/LoadTestingScript.jmx\" target=\"_blank\" rel=\"noopener noreferrer\">Here you can find the script I created as part of this demo</a></p>\n<p><a href=\"https://raw.githubusercontent.com/dsanchezcr/LoadTestingDemo/main/LoadTestingScript.jmx\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" alt=\"Here you can find the script I created as part of this demo\" src=\"https://dsanchezcr.com/assets/images/JMeterScript-3bab51df30b202aaf3ab3f73997d75b8.jpg\" width=\"1200\" height=\"342\" class=\"img_ev3q\"></a></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"getting-started\">Getting Started<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#getting-started\" class=\"hash-link\" aria-label=\"Direct link to Getting Started\" title=\"Direct link to Getting Started\">​</a></h2>\n<p>In the following example, we are going to use Azure Load Testing in our workflow from GitHub Actions to detect when our web app has reached a performance issue. We are going to define a load test scenario with a specific number and type of virtual users that will be simulated, as well as the test duration and the type of workload to be simulated, which in this case is just an HTTP Request. In addition, you can also use either Visual Studio or the Azure Portal to create and configure your load test scenario.</p>\n<p>Once the load test scenario is defined, we can review the results and monitoring data, which includes metrics such as response time, CPU usage, and network traffic, as well as custom performance counters that we can define. With this data we identify bottlenecks and optimize the application's performance.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"the-scenario\">The scenario<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#the-scenario\" class=\"hash-link\" aria-label=\"Direct link to The scenario\" title=\"Direct link to The scenario\">​</a></h3>\n<p>I developed a simple <a href=\"https://loadtestingweb.azurewebsites.net/\" target=\"_blank\" rel=\"noopener noreferrer\">Web App</a> built with ASP.NET Core using .NET 7 that connects to an Azure Cosmos DB and adds a record of each visit to the page and retrieves the data from all the visits.</p>\n<p><a href=\"https://loadtestingweb.azurewebsites.net/\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" alt=\"Load Testing Sample Web App\" src=\"https://dsanchezcr.com/assets/images/LoadTestingWebApp-7bf1a136a756f219dd540db98a2deafe.jpg\" width=\"1200\" height=\"436\" class=\"img_ev3q\"></a></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"the-environment\">The environment<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#the-environment\" class=\"hash-link\" aria-label=\"Direct link to The environment\" title=\"Direct link to The environment\">​</a></h3>\n<p>This web app is running on an App Service <strong>Basic</strong> plan, and it has Applications Insights to monitor the performance of the application. The Cosmos DB is set with the <strong>free tier </strong>(1000 RU/s and 25 GB). I want to find out if the application running on this environment can support up to 100 concurrent users.</p>\n<p><img loading=\"lazy\" alt=\"Azure Portal for Load Testing\" src=\"https://dsanchezcr.com/assets/images/AzurePortal-7de9663690dcc5f2bfb1307136c00572.jpg\" width=\"1200\" height=\"467\" class=\"img_ev3q\"></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"the-repository\">The repository<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#the-repository\" class=\"hash-link\" aria-label=\"Direct link to The repository\" title=\"Direct link to The repository\">​</a></h3>\n<p>You can check out the <strong>GitHub repository</strong> <a href=\"https://github.com/dsanchezcr/LoadTestingDemo\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>. There you can fork the repository, use the <a href=\"https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2Fdsanchezcr%2FLoadTestingDemo%2Fmain%2FARM%2Ftemplate.json\" target=\"_blank\" rel=\"noopener noreferrer\">ARM template</a>.</p>\n<blockquote>\n<p>Note: Microsoft Azure only allows you to create one Cosmos DB Free Tier resource per subscription, you might get an error if you already have one Cosmos DB Free Tier in your subscription.</p>\n</blockquote>\n<p>This repository has a <a href=\"https://github.com/dsanchezcr/LoadTestingDemo/actions/runs/3745714572\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Action</a> that Build &amp; Deploy the application and run the Load Test in Azure Load Testing.</p>\n<p><a href=\"https://github.com/dsanchezcr/LoadTestingDemo/actions/runs/3745714572\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" alt=\"GitHub Action Run for Load Testing\" src=\"https://dsanchezcr.com/assets/images/GitHubActionRun-0d4370aa7c5d326ffad3c0af1bba6e75.jpg\" width=\"1200\" height=\"604\" class=\"img_ev3q\"></a></p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"the-github-action\">The GitHub Action<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#the-github-action\" class=\"hash-link\" aria-label=\"Direct link to The GitHub Action\" title=\"Direct link to The GitHub Action\">​</a></h3>\n<p>The <a href=\"https://raw.githubusercontent.com/dsanchezcr/LoadTestingDemo/main/.github/workflows/workflow.yml\" target=\"_blank\" rel=\"noopener noreferrer\">workflow</a> consists of three steps (Build, Deploy and Load Testing) and runs on every push. The Load Testing job uses the following files in the root folder:</p>\n<ul>\n<li><a href=\"https://github.com/dsanchezcr/LoadTestingDemo/blob/main/LoadTestingScript.jmx\" target=\"_blank\" rel=\"noopener noreferrer\">LoadTestingScript.jmx</a></li>\n<li><a href=\"https://github.com/dsanchezcr/LoadTestingDemo/blob/main/LoadTestingConfig.yaml\" target=\"_blank\" rel=\"noopener noreferrer\">LoadTestingConfig.yaml</a></li>\n</ul>\n<p>The Azure login is required to communicate with the Azure Load Testing service to send the JMeter script and the configuration for the test. In this configuration we can define the number of <a href=\"https://learn.microsoft.com/azure/load-testing/concept-load-testing-concepts#test-engine\" target=\"_blank\" rel=\"noopener noreferrer\">engines</a> we want to run the test and the failure criteria, in this case we have an average response time lower than 5 seconds and error percentage lower than 20%.</p>\n<h3 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"the-results\">The Results<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#the-results\" class=\"hash-link\" aria-label=\"Direct link to The Results\" title=\"Direct link to The Results\">​</a></h3>\n<p>As you can see in the image above, the Load Test <strong>failed</strong> because the average response time was higher than the threshold (5 seconds), we can get more details about the test run in the Azure Portal. <a href=\"https://raw.githubusercontent.com/dsanchezcr/LoadTestingDemo/main/engine1_results.csv\" target=\"_blank\" rel=\"noopener noreferrer\">You can download the results here</a>.</p>\n<p><img loading=\"lazy\" alt=\"Test Results from Azure Load Testing\" src=\"https://dsanchezcr.com/assets/images/TestResult-ae3a4e8857144dbd1a87e049715ad341.jpg\" width=\"1200\" height=\"631\" class=\"img_ev3q\"></p>\n<p>In the Azure App Service, we can see the metrics with the response times (higher than 5 seconds) and the number of requests with the Data in and Data out.\n<img loading=\"lazy\" alt=\"Azure App Service Metrics\" src=\"https://dsanchezcr.com/assets/images/AppServiceMetrics-db97483795a9c557d24e11f14fae2ec7.jpg\" width=\"1200\" height=\"631\" class=\"img_ev3q\"></p>\n<p>In addition, I added Application Insights to monitor the web app, in the Azure Portal we can see the performance issues and failures.</p>\n<p><img loading=\"lazy\" alt=\"Application Insights\" src=\"https://dsanchezcr.com/assets/images/AppInsightsPerformance-87ca3d3f45be7d058221d55674ce4e59.jpg\" width=\"1200\" height=\"605\" class=\"img_ev3q\"></p>\n<p>From the image above you can see where the requests came from, in this case I am running Azure Load Testing in the East US region (Virginia).</p>\n<p><img loading=\"lazy\" alt=\"App Insights Failures\" src=\"https://dsanchezcr.com/assets/images/AppInsightsFailures-914593166a03d3445a4cf7c155e7c6ac.jpg\" width=\"1200\" height=\"631\" class=\"img_ev3q\"></p>\n<h2 class=\"anchor anchorWithStickyNavbar_LWe7\" id=\"conclusions\">Conclusions<a href=\"https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows#conclusions\" class=\"hash-link\" aria-label=\"Direct link to Conclusions\" title=\"Direct link to Conclusions\">​</a></h2>\n<p>The Load Testing <strong>should not be</strong> running on a production environment, try it on a QA or Pre-Production. Even if you are running on deployments slots, remember that the app will still run on the same App Service Plan, and this could affect your production environment or cause a <a href=\"https://en.wikipedia.org/wiki/Denial-of-service_attack\" target=\"_blank\" rel=\"noopener noreferrer\">Denial-of-Service Attack</a>.</p>\n<p>If you would like to learn more about Azure Load Testing, I recommend you review the <a href=\"https://learn.microsoft.com/azure/load-testing?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">service documentation</a>.</p>",
            "url": "https://dsanchezcr.com/blog/adding-load-testing-to-your-workflows",
            "title": "Adding Load Testing to your CI/CD workflows",
            "summary": "Learn about Azure Load Testing and how to include it in your GitHub Actions.",
            "date_modified": "2022-12-21T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Azure",
                "Load Testing",
                "GitHub Actions"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/Webinar-GHAS",
            "content_html": "<p>Today I had the opportunity to present a webinar about GHAS, check it out <a href=\"https://youtu.be/16bYXX5xu6U\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<p><a href=\"https://youtu.be/16bYXX5xu6U\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" alt=\"Webinar - From Code to Cloud in a secure way with GitHub Advanced Security\" src=\"https://dsanchezcr.com/assets/images/Webinar-GHAS-8c1e34c7056a81df80cc7c5e481bedb0.jpg\" width=\"1080\" height=\"1080\" class=\"img_ev3q\"></a></p>\n<p><a href=\"https://1drv.ms/p/s!Av3VDVKKphCYuDIMtpQF_aop_7gE\" target=\"_blank\" rel=\"noopener noreferrer\">You can get the PowerPoint Presentation here</a>.</p>",
            "url": "https://dsanchezcr.com/blog/Webinar-GHAS",
            "title": "Webinar - From Code to Cloud in a secure way with GitHub Advanced Security",
            "summary": "Today I had the opportunity to present a webinar about GHAS, check it out here.",
            "date_modified": "2022-11-30T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "Webinars"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/GitHub-Certifications",
            "content_html": "<p>I'm thrilled to share that I just earned the three GitHub Partner Certifications.</p>\n<p>The GitHub Partner Certifications are a set of three exams that cover the GitHub platform and its ecosystem. The exams are designed to test your knowledge of the GitHub.</p>\n<p>The three exams are:</p>\n<ul>\n<li><a href=\"https://credly.com/badges/e8a1a5a0-f95c-4bfd-b6cb-81ea1231153f\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Actions</a></li>\n<li><a href=\"https://credly.com/badges/79b12418-8217-4c7b-a1a0-ad6f6cf407df\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Admin</a></li>\n<li><a href=\"https://credly.com/badges/b32ce8d3-d9e1-423c-8d1a-958901f3d798\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub Advanced Security</a></li>\n</ul>\n<p><a href=\"https://learn.microsoft.com/training/github?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\"><img loading=\"lazy\" alt=\"GitHub Partner Certifications\" src=\"https://dsanchezcr.com/assets/images/GH-Certs-e5f6fbba229633d33285386102969348.png\" width=\"1280\" height=\"451\" class=\"img_ev3q\"></a></p>\n<p>The <a href=\"https://learn.microsoft.com/training/github?WT.mc_id=DT-MVP-5005361\" target=\"_blank\" rel=\"noopener noreferrer\">Microsoft Learn collections</a> helped me a lot to prepare for the exams. I recommend you to check them out.</p>\n<p>I'm looking forward to continue learning and sharing my knowledge with the community.</p>",
            "url": "https://dsanchezcr.com/blog/GitHub-Certifications",
            "title": "Passed the GitHub Partner Certifications",
            "summary": "GitHub offers three certifications for Partners. I just passed the three exams to pass these certifications.",
            "date_modified": "2022-11-06T18:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "certifications"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/xpirit",
            "content_html": "<p>Today I'm very excited to start my new job as Azure &amp; DevOps Consultant at <a href=\"https://xpirit.com/\" target=\"_blank\" rel=\"noopener noreferrer\">Xpirit | Part of Xebia</a>. I'm joining <a href=\"https://linkedin.com/in/estebangarcia\" target=\"_blank\" rel=\"noopener noreferrer\">Esteban Garcia</a>'s team as the sixth employee in the USA.</p>\n<p>Xpirit is a <a href=\"https://xpirit.com/company/partnerships\" target=\"_blank\" rel=\"noopener noreferrer\">Microsoft Gold Partner &amp; GitHub Verified Partner</a> that started in 2014 in Netherlands and extended operations in Belgium, Germany, and in 2022 in USA.</p>\n<p>I'm thrilled to join this team of highly experienced consultants, experts in cloud transformation using Microsoft Azure, building high performance IT teams using DevOps, and creating Cloud Native Software.\nXpirit continues growing, come join us, check out the open positions <a href=\"https://www.linkedin.com/jobs/search/?currentJobId=3270399306&amp;f_C=9183026&amp;geoId=92000000\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>.</p>\n<p><img loading=\"lazy\" alt=\"Xpirit - Engineering Culture\" src=\"https://dsanchezcr.com/assets/images/Xpirit-8cc1591f1088d4a861787db4f597bae1.gif\" width=\"1050\" height=\"880\" class=\"img_ev3q\"></p>",
            "url": "https://dsanchezcr.com/blog/xpirit",
            "title": "I'm joining Xpirit",
            "summary": "Career update, I am joining Xpirit part of Xebia as Azure & DevOps Consultant",
            "date_modified": "2022-09-21T08:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "career update"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/microsoft",
            "content_html": "<p>After almost 7 years, today is my last day at Microsoft. It has been great, I cannot say thank you enough to all the teammates, managers, and mentors I've had over the years that have helped me grow and enjoy the journey.</p>\n<p>I will be eternally grateful to Microsoft for all the opportunities, experiences, learnings, all the support I received and especially for all the awesome people I met and had the opportunity to work with.</p>\n<p>While I am leaving Microsoft, my mission will continue. Tomorrow, I'll start a new adventure as an Azure &amp; DevOps Consultant to continue helping people to build the most innovative solutions with technology.</p>\n<p><img loading=\"lazy\" alt=\"Leaving Microsoft\" src=\"https://dsanchezcr.com/assets/images/LeavingMS-7501b741c9df52529c8398f85d2e1322.jpg\" width=\"1600\" height=\"1186\" class=\"img_ev3q\"></p>",
            "url": "https://dsanchezcr.com/blog/microsoft",
            "title": "I'm leaving Microsoft",
            "summary": "Career update, I am leaving Microsoft",
            "date_modified": "2022-09-20T08:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "career update"
            ]
        },
        {
            "id": "https://dsanchezcr.com/blog/website",
            "content_html": "<p>Today I am relaunching my website based on <a href=\"https://docusaurus.io/\" target=\"_blank\" rel=\"noopener noreferrer\">Docusarious from Facebook</a>. I am running it on Azure Static Web Apps and GitHub Pages.</p>\n<p>A highlight from this static site generator is the localization functionality, as you can see, this websites supports English, Spanish and Portuguese.</p>\n<p>Another thing, that liked me is the support of React, TypeScript and Markdown (including MDX).</p>\n<p>In this blog I will be sharing tips about technology and, professional career development.</p>\n<p>If you have any feedback or suggetion for content don't heasitate to reach out.</p>\n<p>Thank you for reading!</p>",
            "url": "https://dsanchezcr.com/blog/website",
            "title": "A new website",
            "summary": "Details about the tech behind my new website.",
            "date_modified": "2022-09-01T08:00:00.000Z",
            "author": {
                "name": "David Sanchez",
                "url": "https://github.com/dsanchezcr"
            },
            "tags": [
                "webiste",
                "blog",
                "Azure Static Web Apps",
                "Dcusaurus"
            ]
        }
    ]
}