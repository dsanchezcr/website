"use strict";(self.webpackChunkdsanchezcr=self.webpackChunkdsanchezcr||[]).push([[8099],{9731:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>n,metadata:()=>i,toc:()=>l});var o=r(5893),t=r(1151);const n={title:"Lista los repositorios con sus tama\xf1os en Azure Repos",description:"Aprenda a listar los repositorios de Azure con sus tama\xf1os mediante PowerShell.",slug:"list-azure-repos-with-sizes",authors:["dsanchezcr"],tags:["Azure DevOps","PowerShell"],enableComments:!0,hide_table_of_contents:!0,image:"https://raw.githubusercontent.com/dsanchezcr/website/main/static/img/ListADORepos/ListADORepos.png",date:"2023-02-28T18:00"},a="Lista los repositorios con sus tama\xf1os en Azure Repos",i={permalink:"/es/blog/list-azure-repos-with-sizes",source:"@site/i18n/es/docusaurus-plugin-content-blog/2023-02-28-ListReposADO.mdx",title:"Lista los repositorios con sus tama\xf1os en Azure Repos",description:"Aprenda a listar los repositorios de Azure con sus tama\xf1os mediante PowerShell.",date:"2023-02-28T18:00:00.000Z",formattedDate:"28 de febrero de 2023",tags:[{label:"Azure DevOps",permalink:"/es/blog/tags/azure-dev-ops"},{label:"PowerShell",permalink:"/es/blog/tags/power-shell"}],readingTime:1.06,hasTruncateMarker:!0,authors:[{name:"David Sanchez",url:"https://github.com/dsanchezcr",imageURL:"https://github.com/dsanchezcr.png",key:"dsanchezcr"}],frontMatter:{title:"Lista los repositorios con sus tama\xf1os en Azure Repos",description:"Aprenda a listar los repositorios de Azure con sus tama\xf1os mediante PowerShell.",slug:"list-azure-repos-with-sizes",authors:["dsanchezcr"],tags:["Azure DevOps","PowerShell"],enableComments:!0,hide_table_of_contents:!0,image:"https://raw.githubusercontent.com/dsanchezcr/website/main/static/img/ListADORepos/ListADORepos.png",date:"2023-02-28T18:00"},unlisted:!1,prevItem:{title:"Migraci\xf3n de repositorios de Azure DevOps a GitHub",permalink:"/es/blog/azure-devops-to-github-repo-migration"},nextItem:{title:"Ahorro de costos con Azure para sus aplicaciones web",permalink:"/es/blog/cost-savings-with-azure"}},c={authorsImageUrls:[void 0]},l=[];function d(e){const s={a:"a",code:"code",p:"p",pre:"pre",strong:"strong",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.p,{children:"En esta breve publicaci\xf3n, les mostrar\xe9 c\xf3mo listar los repositorios de Azure en un proyecto de Azure DevOps con sus tama\xf1os en MB mediante un script de PowerShell."}),"\n",(0,o.jsxs)(s.p,{children:["Para seguir esta publicaci\xf3n, deber\xe1s crear un token de acceso personal (PAT) con el permiso de ",(0,o.jsx)(s.strong,{children:"C\xf3digo (lectura)"}),". Puede leer m\xe1s sobre PAT en la ",(0,o.jsx)(s.a,{href:"https://learn.microsoft.com/azure/devops/organizations/accounts/use-personal-access-tokens-to-authenticate?WT.mc_id=DT-MVP-5005361",children:"documentaci\xf3n oficial"}),"."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-powershell",children:'$DevOpsServerName = "<YOUR AZURE DEVOPS SERVER NAME>"\r\n$ProjectCollection = "<YOUR PROJECT COLLECTION NAME>"\r\n$Project = "<YOUR PROJECT NAME>"\r\n$PAT = "<YOUR PERSONAL ACCESS TOKEN>"\r\n\r\n$baseUrl = https://$DevOpsServerName/$ProjectCollection/$Project/_apis/git/repositories?includeLinks={includeLinks}&includeAllUrls={includeAllUrls}&includeHidden={includeHidden}&api-version=6.0\r\n$base64AuthInfo= [System.Convert]::ToBase64String([System.Text.Encoding]::ASCII.GetBytes(":$($PAT)"))\r\n$headers = @{Authorization=("Basic {0}" -f $base64AuthInfo)}\r\n$repositories = Invoke-RestMethod -Uri $baseUrl -Method Get -Headers $headers\r\n\r\nforeach ($repo in $repositories.value) {\r\n    $repoName = $repo.name\r\n    $repoSize = [math]::Round(($repo.size / 1MB),2) \r\n    \r\n    Write-Output "$repoName $repoSize MB"\r\n} \n'})}),"\n",(0,o.jsx)(s.p,{children:"Aqu\xed hay un ejemplo de la salida de ese script:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-powershell",children:"Tailwind Traders 10.65 MB\r\nTailwindTraders-Backend 28.45 MB\r\nTailwindTraders-Website 14.04 MB \n"})}),"\n",(0,o.jsxs)(s.p,{children:["El script anterior usa la API de REST de Azure DevOps para obtener los repositorios y sus tama\xf1os. Puede leer m\xe1s sobre la API en la ",(0,o.jsx)(s.a,{href:"https://docs.microsoft.com/rest/api/azure/devops/git/repositories/list",children:"documentaci\xf3n oficial"}),"."]}),"\n",(0,o.jsx)(s.p,{children:"Esto es \xfatil para saber el tama\xf1o de sus repositorios en caso de que est\xe9 planeando hacer una migraci\xf3n, o en caso de que desee saber si tiene archivos grandes y saber si necesita limpiar algunos de ellos."}),"\n",(0,o.jsx)(s.p,{children:"\xa1Espero que esto ayude!"})]})}function p(e={}){const{wrapper:s}={...(0,t.a)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},1151:(e,s,r)=>{r.d(s,{Z:()=>i,a:()=>a});var o=r(7294);const t={},n=o.createContext(t);function a(e){const s=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(n.Provider,{value:s},e.children)}}}]);